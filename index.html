<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>browserCamamera</title>
    <style>
        html {
          height: 100%;
        }
        body {
          margin: 0 auto;
          width: 200px;
          height: 90%;
        }

        video {
          margin: auto;
          width: 100%;
          height: 100%;
          object-fit: fill;
        }

        .button_wrapper {
          text-align:center;
        }

        input#cap_button {
          padding: 15px 30px;
          font-size: 1.2em;
          background-color: steelblue;
          color: white;
          border-style: none;
        }

    </style>
  </head>
  <body>
    <video id="video" autoplay playsinline="true"></video>
    <script>
    var video = document.getElementById('video');
    var constraints = {
        audio: false,
        video: {
            // スマホのバックカメラを使用
            facingMode: 'environment'
        }
    };
    //  カメラの映像を取得
    navigator.mediaDevices.getUserMedia(constraints)
        .then((stream) => {
            video.srcObject = stream;
        })
        .catch((err) => {
            window.alert(err.name + ': ' + err.message);
        });
    </script>

    <div class="button_wrapper">
      <input id="cap_button" type="button" value="取り込み" onclick="capture()">
    </div>

    <script>
      function capture() {
        alert("テスト");
      }
    </script>

  </body>
</html>
